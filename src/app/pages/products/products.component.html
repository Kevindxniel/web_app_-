<div class="container-fluid text-center">
    <h1 class="my-4">Compra de Cursos</h1>
    <button type="button" class="btn btn-primary mb-3" routerLink="/product-form/0">Agregar Curso</button>
    <div class="d-flex justify-content-center align-content-center flex-wrap gap-5">
        @for(product of products; track $index){
            <div class="card custom-card" style="width: 18rem;" (click)="goToProduct(product.id)">
                <img 
                    [src]="product.image" 
                    class="card-img-top p-3 rounded" 
                    style="height: 200px; width: fit-content; max-width: 100%; margin-inline: auto; border-radius: 10px;"
                    [alt]="product.title">
                <div class="card-body">
                    <h5 class="card-title" style="font-size: 0.875rem;">{{product.title}}</h5>
                    <h6 class="card-subtitle mb-2 text-muted">$ {{product.price.toFixed(2)}}</h6>
                    <!-- Botón de Añadir al carrito con ícono -->
                    <a (click)="addToCart($event, product)" class="btn btn-primary d-flex align-items-center">
                        <i class="bi bi-cart-plus me-2"></i> Añadir al carrito
                    </a>
                    <!-- Condición para mostrar botones solo si el usuario tiene rol de "user" -->
                    @if(role == "user"){
                        <!-- Botón de Actualizar con ícono -->
                        <a [routerLink]="['/product-form', product.id]" class="btn btn-success d-flex align-items-center mt-2">
                            <i class="bi bi-pencil me-2"></i> Actualizar
                        </a>
                        <!-- Botón de Eliminar con ícono -->
                        <a (click)="deleteProduct($event, product.id)" class="btn btn-danger d-flex align-items-center mt-2">
                            <i class="bi bi-trash me-2"></i> Eliminar
                        </a>
                    }
                </div>
            </div>
        }
    </div>
</div>
